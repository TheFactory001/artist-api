<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='music.css') }}">
</head>    

    <body>
        <form action="/music" method="POST" >
                <div class= "navibar" >
                    <p class="top"><a href="#">Home</a></p>
                    <p class="top"><a href="#">ARTISTS</a></p>
                    <p class="top"><a href="#">MUSIC</a></p>
                    <p class="top"><a href="#">HOME</a></p>
                </div>

                <img src="{{url_for('static', filename='images/music.jpg')}}" alt="music">

                <div id="music">
                <h3>ENTER ARTIST</h3> 
                <label for="artist">Artist</label>
                <input id="artist" name="artist" type="text">
                <Button id="submitForm">Get Artist Details</Button>  
                </div>

            <div id="musicinfo" input type="text">
                <p>Your Artist info</p>
                <div id="moremusic">
                    <p>{{artist}}</p>
                    <div class="column">
                    <img src="{{picture}}" alt="Music can be a masterpiece">
                    <img src="{{picture_2}}" alt="Music can be a masterpiece">
                    
                    <p> Info: </p> {{identity}} 
                    <p>The recent tracklist</p>{{tracklist}}
                </div>
                 
                <h2 class = "title"> Music player</h2>
                <div class="player">
                    <audio src=""></audio>
                    <div class="btns">
                      <span class="prev">
                        <ion-icon name="play-back-outline"></ion-icon>
                      </span>
                      <span class="playPause">
                        <ion-icon name="play-outline"></ion-icon>
                      </span>
                      <span class="next">
                        <ion-icon name="play-forward-outline"></ion-icon>
                      </span>
                </div>
            </div>
            <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
            <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
            
            <script>
                const title = document.querySelector('.title');
                const prev = document.querySelector('.prev');
                const playPause = document.querySelector('.playPause');
                const next = document.querySelector('.next');
                const audio = document.querySelector('audio');

                const songList = 
                [
                    {
                        path: "Ye.mp3",
                        songName: "Ye",
                    }
                ];
                
                let song_Playing = false;

                function playSong()
                {
                    song_Playing= true;
                    audio.play();
                    playPause.classList.add('active')
                    playPause.innerHTML = '<ion-icon name="pause-outline"></ion-icon>';
                }

                
                function pauseSong()
                {
                    song_Playing= false;
                    audio.pause();
                    playPause.classList.remove('active')
                    playPause.innerHTML = '<ion-icon name="play-outline"></ion-icon>';
                }

                playPause.addEventListener("click", () => (song_Playing ? pauseSong():playSong()));

                function loadSong(songList)
                {
                    title.textContent = songList.songName;
                    audio.src = songList.path;
                }

                let i = 0;

                loadSong(songList[i]);
            </script>
        </form>
    </body> 
</html>